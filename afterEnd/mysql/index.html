<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>安装MySQL | 爱哭的小河豚</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="何必固执的追逐光明，可以尝试让自己发光。">
    
    <link rel="preload" href="/study/assets/css/0.styles.1e2cf360.css" as="style"><link rel="preload" href="/study/assets/js/app.64a3878e.js" as="script"><link rel="preload" href="/study/assets/js/3.bf789c24.js" as="script"><link rel="preload" href="/study/assets/js/8.72f2f35f.js" as="script"><link rel="prefetch" href="/study/assets/js/10.f340e70a.js"><link rel="prefetch" href="/study/assets/js/11.aa6018f4.js"><link rel="prefetch" href="/study/assets/js/12.14e3a58d.js"><link rel="prefetch" href="/study/assets/js/13.1a3e7553.js"><link rel="prefetch" href="/study/assets/js/14.56cfc3cf.js"><link rel="prefetch" href="/study/assets/js/15.cdc54dee.js"><link rel="prefetch" href="/study/assets/js/16.464ec9a8.js"><link rel="prefetch" href="/study/assets/js/17.941f1fce.js"><link rel="prefetch" href="/study/assets/js/18.b7b50ce5.js"><link rel="prefetch" href="/study/assets/js/19.4ca18b69.js"><link rel="prefetch" href="/study/assets/js/2.7f7d4902.js"><link rel="prefetch" href="/study/assets/js/20.5b1c1341.js"><link rel="prefetch" href="/study/assets/js/21.43c153b0.js"><link rel="prefetch" href="/study/assets/js/22.30333923.js"><link rel="prefetch" href="/study/assets/js/23.e0201095.js"><link rel="prefetch" href="/study/assets/js/24.5fb99ade.js"><link rel="prefetch" href="/study/assets/js/25.bda0e65b.js"><link rel="prefetch" href="/study/assets/js/26.8699c0ee.js"><link rel="prefetch" href="/study/assets/js/27.6b349317.js"><link rel="prefetch" href="/study/assets/js/28.937a683f.js"><link rel="prefetch" href="/study/assets/js/4.41404aa1.js"><link rel="prefetch" href="/study/assets/js/5.670c60cf.js"><link rel="prefetch" href="/study/assets/js/6.faa210c0.js"><link rel="prefetch" href="/study/assets/js/7.c49c4bfe.js"><link rel="prefetch" href="/study/assets/js/9.0c98da48.js">
    <link rel="stylesheet" href="/study/assets/css/0.styles.1e2cf360.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study/" class="home-link router-link-active"><img src="/study/logo/logo.jpg" alt="爱哭的小河豚" class="logo"> <span class="site-name can-hide">爱哭的小河豚</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/frontEnd/basics/" class="nav-link">
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/es6/" class="nav-link">
  es6-es11
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/json&amp;ajax/" class="nav-link">
  json&amp;ajax
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/react/" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/vue2/" class="nav-link">
  vue2
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/ts&amp;vue3/" class="nav-link">
  ts&amp;vue3
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/wechat/" class="nav-link">
  wechat
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/afterEnd/java/" class="nav-link">
  java
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/mysql/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/jdbc/" class="nav-link">
  jdbc
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/javaweb/" class="nav-link">
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/ssm/" class="nav-link">
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/mybatisplus/" class="nav-link">
  MyBatis Plus
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/springboot/" class="nav-link">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/springcould/" class="nav-link">
  Spring Could
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/arithmetic/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/python/" class="nav-link">
  python
</a></li></ul></div></div><div class="nav-item"><a href="/study/version/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/study/tool/idea/" class="nav-link">
  idea
</a></div><div class="nav-item"><a href="/study/favorite/" class="nav-link">
  收藏夹
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/frontEnd/basics/" class="nav-link">
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/es6/" class="nav-link">
  es6-es11
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/json&amp;ajax/" class="nav-link">
  json&amp;ajax
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/react/" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/vue2/" class="nav-link">
  vue2
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/ts&amp;vue3/" class="nav-link">
  ts&amp;vue3
</a></li><li class="dropdown-item"><!----> <a href="/study/frontEnd/wechat/" class="nav-link">
  wechat
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/afterEnd/java/" class="nav-link">
  java
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/mysql/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/jdbc/" class="nav-link">
  jdbc
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/javaweb/" class="nav-link">
  javaweb
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/ssm/" class="nav-link">
  ssm
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/mybatisplus/" class="nav-link">
  MyBatis Plus
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/springboot/" class="nav-link">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/springcould/" class="nav-link">
  Spring Could
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/arithmetic/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/study/afterEnd/python/" class="nav-link">
  python
</a></li></ul></div></div><div class="nav-item"><a href="/study/version/git/" class="nav-link">
  Git
</a></div><div class="nav-item"><a href="/study/tool/idea/" class="nav-link">
  idea
</a></div><div class="nav-item"><a href="/study/favorite/" class="nav-link">
  收藏夹
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>安装MySQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/afterEnd/mysql/#主键" class="sidebar-link">主键</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#联合主键" class="sidebar-link">联合主键</a></li></ul></li><li><a href="/study/afterEnd/mysql/#外键" class="sidebar-link">外键</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#多对多" class="sidebar-link">多对多</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#一对一" class="sidebar-link">一对一</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/study/afterEnd/mysql/#索引" class="sidebar-link">索引</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#唯一索引" class="sidebar-link">唯一索引</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#查询操作" class="sidebar-link">查询操作</a></li></ul></li><li><a href="/study/afterEnd/mysql/#基本查询" class="sidebar-link">基本查询</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#条件查询" class="sidebar-link">条件查询</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#排序" class="sidebar-link">排序</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#分页" class="sidebar-link">分页</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#聚合查询" class="sidebar-link">聚合查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#分组" class="sidebar-link">分组</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#having" class="sidebar-link">having</a></li></ul></li><li><a href="/study/afterEnd/mysql/#多表查询" class="sidebar-link">多表查询</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#连接查询" class="sidebar-link">连接查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#内连接-inner-join" class="sidebar-link">内连接——INNER JOIN</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#外连接-outer-join" class="sidebar-link">外连接——OUTER JOIN</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#right-outer-join-右外连接" class="sidebar-link" style="padding-left:3rem;">RIGHT OUTER JOIN——右外连接</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#left-outer-join-左外连接" class="sidebar-link" style="padding-left:3rem;">LEFT OUTER JOIN——左外连接</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#full-outer-join-全外连接" class="sidebar-link" style="padding-left:3rem;">FULL OUTER JOIN——全外连接</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#实用sql语句" class="sidebar-link">实用sql语句</a></li></ul></li><li><a href="/study/afterEnd/mysql/#插入或替换" class="sidebar-link">插入或替换</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#插入或更新" class="sidebar-link">插入或更新</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#插入或忽略" class="sidebar-link">插入或忽略</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#快照" class="sidebar-link">快照</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#写入查询结果集" class="sidebar-link">写入查询结果集</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/afterEnd/mysql/#强制使用指定索引" class="sidebar-link">强制使用指定索引</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#mysql事务" class="sidebar-link">Mysql事务</a></li></ul></li><li><a href="/study/afterEnd/mysql/#隔离级别" class="sidebar-link">隔离级别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#read-uncommitted" class="sidebar-link">Read Uncommitted</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#read-committed" class="sidebar-link">Read Committed</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#repeatable-read-默认的隔离级别" class="sidebar-link">Repeatable Read（默认的隔离级别）</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#serializable" class="sidebar-link">Serializable</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#java类型和sql类型对应" class="sidebar-link">Java类型和SQL类型对应</a></li><li class="sidebar-sub-header"><a href="/study/afterEnd/mysql/#" class="sidebar-link"></a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="安装mysql"><a href="#安装mysql" class="header-anchor">#</a> 安装MySQL</h1> <blockquote><p>为了能继续后面的学习，你需要从MySQL官方网站下载并安装<a href="http://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener noreferrer">MySQL Community Server 5.6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，这个版本是免费的，其他高级版本是要收钱的（请放心，收钱的功能我们用不上）。MySQL是跨平台的，选择对应的平台下载安装文件，安装即可。</p> <p>安装时，MySQL会提示输入<code>root</code>用户的口令，请务必记清楚。如果怕记不住，就把口令设置为<code>password</code>。</p> <p>在Windows上，安装时请选择<code>UTF-8</code>编码，以便正确地处理中文。</p> <p>在Mac或Linux上，需要编辑MySQL的配置文件，把数据库默认的编码全部改为UTF-8。MySQL的配置文件默认存放在<code>/etc/my.cnf</code>或者<code>/etc/mysql/my.cnf</code>：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>[client]
default-character-set = utf8

[mysqld]
default-storage-engine = INNODB
character-set-server = utf8
collation-server = utf8_general_ci
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>重启MySQL后，可以通过MySQL的客户端命令行检查编码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ mysql -u root -p
Enter password: 
Welcome to the MySQL monitor...
...

mysql&gt; show variables like '%char%';
+--------------------------+--------------------------------------------------------+
| Variable_name            | Value                                                  |
+--------------------------+--------------------------------------------------------+
| character_set_client     | utf8                                                   |
| character_set_connection | utf8                                                   |
| character_set_database   | utf8                                                   |
| character_set_filesystem | binary                                                 |
| character_set_results    | utf8                                                   |
| character_set_server     | utf8                                                   |
| character_set_system     | utf8                                                   |
| character_sets_dir       | /usr/local/mysql-5.1.65-osx10.6-x86_64/share/charsets/ |
+--------------------------+--------------------------------------------------------+
8 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>看到<code>utf8</code>字样就表示编码设置正确。</p> <p>注：如果MySQL的版本≥5.5.3，可以把编码设置为<code>utf8mb4</code>，<code>utf8mb4</code>和<code>utf8</code>完全兼容，但它支持最新的Unicode标准，可以显示emoji字符。</p></blockquote> <h1 id="所用sql脚本"><a href="#所用sql脚本" class="header-anchor">#</a> 所用sql脚本</h1> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 如果test数据库不存在，就创建test数据库：
CREATE DATABASE IF NOT EXISTS test;

-- 切换到test数据库
USE test;

-- 删除classes表和students表（如果存在）：
DROP TABLE IF EXISTS classes;
DROP TABLE IF EXISTS students;

-- 创建classes表：
CREATE TABLE classes (
    id BIGINT NOT NULL AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 创建students表：
CREATE TABLE students (
    id BIGINT NOT NULL AUTO_INCREMENT,
    class_id BIGINT NOT NULL,
    name VARCHAR(100) NOT NULL,
    gender VARCHAR(1) NOT NULL,
    score INT NOT NULL,
    PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- 插入classes记录：
INSERT INTO classes(id, name) VALUES (1, '一班');
INSERT INTO classes(id, name) VALUES (2, '二班');
INSERT INTO classes(id, name) VALUES (3, '三班');
INSERT INTO classes(id, name) VALUES (4, '四班');

-- 插入students记录：
INSERT INTO students (id, class_id, name, gender, score) VALUES (1, 1, '小明', 'M', 90);
INSERT INTO students (id, class_id, name, gender, score) VALUES (2, 1, '小红', 'F', 95);
INSERT INTO students (id, class_id, name, gender, score) VALUES (3, 1, '小军', 'M', 88);
INSERT INTO students (id, class_id, name, gender, score) VALUES (4, 1, '小米', 'F', 73);
INSERT INTO students (id, class_id, name, gender, score) VALUES (5, 2, '小白', 'F', 81);
INSERT INTO students (id, class_id, name, gender, score) VALUES (6, 2, '小兵', 'M', 55);
INSERT INTO students (id, class_id, name, gender, score) VALUES (7, 2, '小林', 'M', 85);
INSERT INTO students (id, class_id, name, gender, score) VALUES (8, 3, '小新', 'F', 91);
INSERT INTO students (id, class_id, name, gender, score) VALUES (9, 3, '小王', 'M', 89);
INSERT INTO students (id, class_id, name, gender, score) VALUES (10, 3, '小丽', 'F', 85);

-- OK:
SELECT 'ok' as 'result:';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h1 id="关系模型"><a href="#关系模型" class="header-anchor">#</a> 关系模型</h1> <h2 id="主键"><a href="#主键" class="header-anchor">#</a> 主键</h2> <blockquote><ul><li>对于关系表，有个很重要的约束，就是任意两条记录不能重复。不能重复不是指两条记录不完全相同，而是指能够通过某个字段唯一区分出不同的记录，这个字段被称为<em>主键</em>。</li> <li>对主键的要求，最关键的一点是：记录一旦插入到表中，主键最好不要再修改，因为主键是用来唯一定位记录的，修改了主键，会造成一系列的影响。</li> <li>选取主键的一个基本原则是：不使用任何业务相关的字段作为主键。而应该使用BIGINT自增或者GUID类型。主键也不应该允许<code>NULL</code>。</li></ul></blockquote> <h3 id="联合主键"><a href="#联合主键" class="header-anchor">#</a> 联合主键</h3> <blockquote><p>关系数据库实际上还允许通过多个字段唯一标识记录，即两个或更多的字段都设置为主键，这种主键被称为联合主键。</p> <p>对于联合主键，允许一列有重复，只要不是所有主键列都重复即可：</p> <p><img src="data:image/png;base64,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" alt="image-20220321164844007"></p> <p>如果我们把上述表的<code>id_num</code>和<code>id_type</code>这两列作为联合主键，那么上面的3条记录都是允许的，因为没有两列主键组合起来是相同的。</p> <p>没有必要的情况下，我们尽量不使用联合主键，因为它给关系表带来了复杂度的上升。</p></blockquote> <h2 id="外键"><a href="#外键" class="header-anchor">#</a> 外键</h2> <blockquote><p>students表</p></blockquote> <p><img src="/study/assets/img/image-20220321184155880.0ef0728d.png" alt="image-20220321184155880"></p> <blockquote><p>class表</p></blockquote> <p><img src="/study/assets/img/image-20220321184225207.cac258fe.png" alt="image-20220321184225207"></p> <blockquote><p>设置外键（使用图形化工具），在需要设置外键的表右键选设计表</p></blockquote> <p><img src="data:image/png;base64,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" alt="image-20220321184351430"></p> <blockquote><p>设置外键（设置sql语句）</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE school
ADD CONSTRAINT fk_class_id
FOREIGN KEY (class_id)
REFERENCES class (id);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>外键约束的名称<code>fk_class_id</code>可以任意，<code>FOREIGN KEY (class_id)</code>指定了<code>class_id</code>作为外键，<code>REFERENCES class (id)</code>指定了这个外键将关联到<code>class</code>表的<code>id</code>列（即<code>class</code>表的主键）。</p> <p>通过定义外键约束，关系数据库可以保证无法插入无效的数据。即如果<code>class</code>表不存在<code>id=99</code>的记录，<code>students</code>表就无法插入<code>class_id=99</code>的记录。</p> <p>要删除一个外键约束，也是通过<code>ALTER TABLE</code>实现的：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> students
<span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> fk_class_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote> <h3 id="多对多"><a href="#多对多" class="header-anchor">#</a> 多对多</h3> <blockquote><p>通过一个表的外键关联到另一个表，我们可以定义出一对多关系。有些时候，还需要定义“多对多”关系。例如，一个老师可以对应多个班级，一个班级也可以对应多个老师，因此，班级表和老师表存在多对多关系。</p> <p>多对多关系实际上是通过两个一对多关系实现的，即通过一个中间表，关联两个一对多关系，就形成了多对多关系：</p> <p><img src="data:image/png;base64,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" alt="image-20220321185146617"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAz0AAADSCAYAAABgkq6/AAAQeElEQVR4nO3db2jc92HH8Y9b1Z0DHjFKQrFxmUpCxtoJD66kRO0YJkWrYRZsJUkbxbhqYOseSHqwZtBMrmvRQP9QZMFKH7hqUGRas3abDDUzCR6kkdnoPfBEMzDJrDDPZnNyuEzUHq7S2wNJtizJiWXf6ZxvXi8w6O73u9/vmyc5vfX93vc21Ov1egAAAAr1vlYPAAAAoJlEDwAAUDTRAwAAFE30AAAARRM9AABA0UQPAABQNNEDAAAUTfQAAABFEz0AAEDRRM/tujCZgcpAJi+0eiAAAMBqRA8AAFC0DfV6vb6WF1y8eDGzs7OZm5tr1pharq2tLZs3b86WLVuSJLWjA+k+MHXL1+vadzwHd7c3angAAMAarCl6Ll68mMuXL2fLli1pa2tr5rhaam5uLhcvXsymTZuuhs8NXZjMwK4T2XnsYHruW5/xAQAAN29Ny9tmZ2eLD55kfqZny5YtmZ2dbfVQAACA27Smepmbmys+eBa1tbUtWcJXy2R/d4ZP3vj8qV2VDK924OGhHB/tydLFbYvL5Sx7AwCA5mt+wfzrczn7qRfmf/7qV7L9mY82/ZaN156e0Wp6VjtkeRsAANzRmh89D+3N9it7c+nI/tRea/rd3hXadx9MdXerRwEAAO8N7421ardlOiOVvky8w1k3XN6WJOnNWHUwnY0dGAAAcBMaFj2//PoTmf3a4qNPZ/OVvbn7HV/1Sv5747P59dXHy163dGlckvc9P5Jtj907/+DcCznX8Vx+s3hw2dK568bzZ3vT/sNP565Vx/pANs3szz3bbjTGzgxWqxlc5cj8Z3M60rtnIjO/4/M5AABwJ2pI9Pzy609k9hd7037lWljcnI/mQ1cOX3106cj+XDzyRu5+7N4kb+TNkdezaebwqkHyy+eey/t/djjbHlp57NKR/fnV/SPZfuXeJdfdkbseuzc590J+dUtjvd588CRDxwbTk44M7Ho+07uXzuYsbH5w/1iq/eZ4AACgVda0ZfXqXsn/fe2BbPr2rUTEG3nzc0/k7Mb5f7UnX81vXruwcOzetH3s1VzueCLnjryx4pUb738gv/7UEzn79VdWXPPSP76a3zw5uPp1t23N+3/yXGob9+fNc2secJJru6/1HlrYvOC+nuzbN5O+0ekkyfRoJZXKQvA8vi21W7sNAADQAC39TM+lI3+by7k267J8s4O7nzmcu5+Zf/7sxlevW8J212P7c9djmV8Ct/HZZUvY3m7J2uLs0kJw/ST5wM8O50OrzBittPTzPV3p2HrtSPvufRnq706lkvltqqvXtqm26A0AAFqnATM9H81vffXVXH5u+YzLO7vy2qvJx7YuhMor+d8nX131vLse25/tM3vzvl+cz6XlBx/am+1XvpIP/ORcriS5OkP0Vy+sPPc69+aeHx5O+/MP5K3XV84kLTc/e9OXiT1jqR4bSteKM9rTM3o8Qw+/46VSOzqQSqWSgaPmgAAAoNkaMtNz9zMjmfvcYM5uXHzm2oYEl47sT+1qzDybs1/L1Rmbu/fuza86Fp7LA9n0/Kfz66szPcs3OZifvZkPpDfy5ucGc/kn18bwgZ8dvroBwuJ4ahufu7q07OpszrLNEeZniO59m/+6hdmdpbM3F2auP+XUSCpPTcx/2ehoNZ88OpDuynCyx+d5AACg1TbU6/X6zZ585syZbN++vZnjuaOcPXs2H/nIR1YeuDCZgV3DmVp8fKO4WYihpCtDvrwUAABaYk0zPW1tbZmbm0tbW/lf7/N2/521fzmRqZv57p0dg6lWV9vsGgAAWC9rmum5ePFiLl++nC1bthQdPnNzc7l48WI2bdqULVu2tHo4AADAbVhT9CTz4TM7O5u5ublmjanl2trasnnzZsEDAAAFWHP0AAAAvJs0YMtqAACAO5foAQAAiiZ6AACAookeAACgaKIHAAAomugBAACKJnoAAICiiR4AAKBoogcAACia6AEAAIomegAAgKKJHgAAoGiiBwAAKJroAQAAiiZ6AACAookeAACgaKIHAAAomugBAACKJnoAAICiiR4AAKBoogcAACia6AEAAIomegAAgKKJHgAAoGiiBwAAKJroAQAAiiZ6AACAookeAACgaKIHAAAomugBAACKJnoAAICiiR4AAKBoogcAACia6AEAAIomegAAgKKJHgAAoGiiBwAAKJroAQAAitb46LkwmYFKJZVKJSOnGnguAADALTDTAwAAFK2t4Ve8rycHqz0NvywAAMCtWMflbbVM9s8/X6lUUumfTK3hNwcAGmPJ+/bodHJq5Np7eKWSgaPL38WnM7Lk+Py/kUwvveLRgSXPX3/+4vWunVNJpTKQyQvLbrPk94zV7gGw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" alt="image-20220321185417131"></p> <p><img src="/study/assets/img/image-20220321185205665.3a8ea7e3.png" alt="image-20220321185205665"></p> <p>通过中间表<code>teacher_class</code>可知<code>teachers</code>到<code>classes</code>的关系：</p> <ul><li><code>id=1</code>的张老师对应<code>id=1,2</code>的一班和二班；</li> <li><code>id=2</code>的王老师对应<code>id=1,2</code>的一班和二班；</li> <li><code>id=3</code>的李老师对应<code>id=1</code>的一班；</li> <li><code>id=4</code>的赵老师对应<code>id=2</code>的二班。</li></ul> <p>同理可知<code>classes</code>到<code>teachers</code>的关系：</p> <ul><li><code>id=1</code>的一班对应<code>id=1,2,3</code>的张老师、王老师和李老师；</li> <li><code>id=2</code>的二班对应<code>id=1,2,4</code>的张老师、王老师和赵老师；</li></ul> <p>因此，通过中间表，我们就定义了一个“多对多”关系。</p></blockquote> <h3 id="一对一"><a href="#一对一" class="header-anchor">#</a> 一对一</h3> <blockquote><p>一对一关系是指，一个表的记录对应到另一个表的唯一一个记录。</p> <p>例如，<code>students</code>表的每个学生可以有自己的联系方式，如果把联系方式存入另一个表<code>contacts</code>，我们就可以得到一个“一对一”关系：</p> <p><img src="/study/assets/img/image-20220321185237547.7b5e7ecf.png" alt="image-20220321185237547"></p> <p>有细心的童鞋会问，既然是一对一关系，那为啥不给<code>students</code>表增加一个<code>mobile</code>列，这样就能合二为一了？</p> <p>如果业务允许，完全可以把两个表合为一个表。但是，有些时候，如果某个学生没有手机号，那么，<code>contacts</code>表就不存在对应的记录。实际上，一对一关系准确地说，是<code>contacts</code>表一对一对应<code>students</code>表。</p> <p>还有一些应用会把一个大表拆成两个一对一的表，目的是把经常读取和不经常读取的字段分开，以获得更高的性能。例如，把一个大的用户表分拆为用户基本信息表<code>user_info</code>和用户详细信息表<code>user_profiles</code>，大部分时候，只需要查询<code>user_info</code>表，并不需要查询<code>user_profiles</code>表，这样就提高了查询速度。</p></blockquote> <h3 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h3> <blockquote><p>关系数据库通过外键可以实现一对多、多对多和一对一的关系。外键既可以通过数据库来约束，也可以不设置约束，仅依靠应用程序的逻辑来保证。</p></blockquote> <h2 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h2> <blockquote><p>在关系数据库中，如果有上万甚至上亿条记录，在查找记录的时候，想要获得非常快的速度，就需要使用索引。</p> <p>索引是关系数据库中对某一列或多个列的值进行预排序的数据结构。通过使用索引，可以让数据库系统不必扫描整个表，而是直接定位到符合条件的记录，这样就大大加快了查询速度。</p> <p>例如，对于<code>students</code>表：</p> <p><img src="data:image/png;base64,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" alt="image-20220321190904195"></p> <p>如果要经常根据<code>score</code>列进行查询，就可以对<code>score</code>列创建索引：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE students
ADD INDEX idx_score (score);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用<code>ADD INDEX idx_score (score)</code>就创建了一个名称为<code>idx_score</code>，使用列<code>score</code>的索引。索引名称是任意的，索引如果有多列，可以在括号里依次写上，例如：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE students
ADD INDEX idx_name_score (name, score);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>索引的效率取决于索引列的值是否散列，即该列的值如果越互不相同，那么索引效率越高。反过来，如果记录的列存在大量相同的值，例如<code>gender</code>列，大约一半的记录值是<code>M</code>，另一半是<code>F</code>，因此，对该列创建索引就没有意义。</p> <p>可以对一张表创建多个索引。索引的优点是提高了查询效率，缺点是在插入、更新和删除记录时，需要同时修改索引，因此，索引越多，插入、更新和删除记录的速度就越慢。</p> <p>对于主键，关系数据库会自动对其创建主键索引。使用主键索引的效率是最高的，因为主键会保证绝对唯一。</p></blockquote> <h3 id="唯一索引"><a href="#唯一索引" class="header-anchor">#</a> 唯一索引</h3> <blockquote><p>在设计关系数据表的时候，看上去唯一的列，例如身份证号、邮箱地址等，因为他们具有业务含义，因此不宜作为主键。</p> <p>但是，这些列根据业务要求，又具有唯一性约束：即不能出现两条记录存储了同一个身份证号。这个时候，就可以给该列添加一个唯一索引。例如，我们假设<code>students</code>表的<code>name</code>不能重复：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE students
ADD UNIQUE INDEX uni_name (name);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>通过<code>UNIQUE</code>关键字我们就添加了一个唯一索引。</p> <p>也可以只对某一列添加一个唯一约束而不创建唯一索引：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>ALTER TABLE students
ADD CONSTRAINT uni_name UNIQUE (name);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这种情况下，<code>name</code>列没有索引，但仍然具有唯一性保证。</p> <p>无论是否创建索引，对于用户和应用程序来说，使用关系数据库不会有任何区别。这里的意思是说，当我们在数据库中查询时，如果有相应的索引可用，数据库系统就会自动使用索引来提高查询效率，如果没有索引，查询也能正常执行，只是速度会变慢。因此，索引可以在使用数据库的过程中逐步优化。</p></blockquote> <h1 id="查询操作"><a href="#查询操作" class="header-anchor">#</a> 查询操作</h1> <h2 id="基本查询"><a href="#基本查询" class="header-anchor">#</a> 基本查询</h2> <blockquote><p>虽然<code>SELECT</code>可以用作计算，但它并不是SQL的强项。但是，不带<code>FROM</code>子句的<code>SELECT</code>语句有一个有用的用途，就是用来判断当前到数据库的连接是否有效。许多检测工具会执行一条<code>SELECT 1;</code>来测试数据库连接。</p></blockquote> <h2 id="条件查询"><a href="#条件查询" class="header-anchor">#</a> 条件查询</h2> <blockquote><ul><li><p>where关键字</p></li> <li><p>and/or/not。<code>NOT</code>条件<code>NOT class_id = 2</code>其实等价于<code>class_id &lt;&gt; 2</code>，因此，<code>NOT</code>查询不是很常用。</p></li> <li><p><code>between...and</code>：值是否在值范围内</p></li> <li><p>如果不加括号，条件运算按照<code>NOT</code>、<code>AND</code>、<code>OR</code>的优先级进行，即<code>NOT</code>优先级最高，其次是<code>AND</code>，最后是<code>OR</code>。加上括号可以改变优先级。</p></li> <li><p>如果不加括号，条件运算按照<code>NOT</code>、<code>AND</code>、<code>OR</code>的优先级进行，即<code>NOT</code>优先级最高，其次是<code>AND</code>，最后是<code>OR</code>。加上括号可以改变优先级。</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT * FROM students WHERE (score &lt; 80 OR score &gt; 90) AND gender = 'M';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></blockquote> <h2 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h2> <blockquote><ul><li>升序(ASC)：<code>select * from xxx order by score</code>，<code>ASC</code>可以省略</li> <li>降序(DESC)：<code>select * from xxx order by score DESC</code></li> <li>如果有<code>WHERE</code>子句，那么<code>ORDER BY</code>子句要放到<code>WHERE</code>子句后面。</li> <li><code>SELECT * from students ORDER BY score DESC,id ASC</code>，先以成绩降序，成绩相同的以id升序</li></ul></blockquote> <h2 id="分页"><a href="#分页" class="header-anchor">#</a> 分页</h2> <blockquote><ul><li>分页实查询可以通过<code>LIMIT M OFFSET N</code>子句实现。第一个数据从N开始，每页M个。可以简写成 <code>LIMIT N,M</code></li></ul></blockquote> <h2 id="聚合查询"><a href="#聚合查询" class="header-anchor">#</a> 聚合查询</h2> <blockquote><ul><li><p>使用聚合查询时可以起别名<code>select count(*) peoplecount from students score&gt;90</code></p></li> <li><p>除了<code>COUNT()</code>函数外，SQL还提供了如下聚合函数：</p> <table><thead><tr><th style="text-align:left;">函数</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">SUM</td> <td style="text-align:left;">计算某一列的合计值，该列必须为数值类型</td></tr> <tr><td style="text-align:left;">AVG</td> <td style="text-align:left;">计算某一列的平均值，该列必须为数值类型</td></tr> <tr><td style="text-align:left;">MAX</td> <td style="text-align:left;">计算某一列的最大值</td></tr> <tr><td style="text-align:left;">MIN</td> <td style="text-align:left;">计算某一列的最小值</td></tr></tbody></table></li> <li><p>如果聚合查询的<code>WHERE</code>条件没有匹配到任何行，<code>COUNT()</code>会返回0，而<code>SUM()</code>、<code>AVG()</code>、<code>MAX()</code>和<code>MIN()</code>会返回<code>NULL</code>：</p></li></ul></blockquote> <h3 id="分组"><a href="#分组" class="header-anchor">#</a> 分组</h3> <blockquote><p>如果我们要统计一班的学生数量，我们知道，可以用<code>SELECT COUNT(*) num FROM students WHERE class_id = 1;</code>。如果要继续统计二班、三班的学生数量，难道必须不断修改<code>WHERE</code>条件来执行<code>SELECT</code>语句吗？</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select class_id,count(*) peoplecount from students GROUP BY class_id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="data:image/png;base64,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" alt="image-20220321202706833"></p> <p>执行这个查询，<code>COUNT()</code>的结果不再是一个，而是3个，这是因为，<code>GROUP BY</code>子句指定了按<code>class_id</code>分组，因此，执行该<code>SELECT</code>语句时，会把<code>class_id</code>相同的列先分组，再分别计算，因此，得到了3行结果。</p></blockquote> <blockquote><ul><li><code>SELECT name, class_id, COUNT(*) num FROM students GROUP BY class_id;</code>不出意外，执行这条查询我们会得到一个语法错误，因为在任意一个分组中，只有<code>class_id</code>都相同，<code>name</code>是不同的，SQL引擎不能把多个<code>name</code>的值放入一行记录中。因此，聚合查询的列中，只能放入分组的列。</li> <li><code>SELECT class_id, gender, COUNT(*) num FROM students GROUP BY class_id, gender;</code>统计各班的男生和女生人数</li></ul></blockquote> <h3 id="having"><a href="#having" class="header-anchor">#</a> having</h3> <blockquote><p>类似where关键字吧</p></blockquote> <h2 id="多表查询"><a href="#多表查询" class="header-anchor">#</a> 多表查询</h2> <blockquote><ul><li><p>SELECT查询不但可以从一张表查询数据，还可以从多张表同时查询数据。查询多张表的语法是：<code>SELECT * FROM &lt;表1&gt; &lt;表2&gt;</code>。</p></li> <li><p>这种一次查询两个表的数据，查询的结果也是一个二维表，它是<code>students</code>表和<code>classes</code>表的“乘积”，即<code>students</code>表的每一行与<code>classes</code>表的每一行都两两拼在一起返回。结果集的列数是<code>students</code>表和<code>classes</code>表的列数之和，行数是<code>students</code>表和<code>classes</code>表的行数之积。</p> <p>这种多表查询又称笛卡尔查询，使用笛卡尔查询时要非常小心，由于结果集是目标表的行数乘积，对两个各自有100行记录的表进行笛卡尔查询将返回1万条记录，对两个各自有1万行记录的表进行笛卡尔查询将返回1亿条记录。</p></li> <li><p>可以利用投影查询的“设置列的别名”来给两个表各自的<code>id</code>和<code>name</code>列起别名。多表查询时，要使用<code>表名.列名</code>这样的方式来引用列和设置别名，这样就避免了结果集的列名重复问题。但是，用<code>表名.列名</code>这种方式列举两个表的所有列实在是很麻烦，所以SQL还允许给表设置一个别名</p></li></ul></blockquote> <h2 id="连接查询"><a href="#连接查询" class="header-anchor">#</a> 连接查询</h2> <blockquote><p>连接查询是另一种类型的多表查询。连接查询对多个表进行JOIN运算，简单地说，就是先确定一个主表作为结果集，然后，把其他表的行有选择性地“连接”在主表结果集上。</p></blockquote> <h3 id="内连接-inner-join"><a href="#内连接-inner-join" class="header-anchor">#</a> 内连接——INNER JOIN</h3> <p><img src="/study/assets/img/inter.8c51781d.png" alt=""></p> <blockquote><p>INNER JOIN查询的写法是：</p> <ol><li>先确定主表，仍然使用<code>FROM &lt;表1&gt;</code>的语法；</li> <li>再确定需要连接的表，使用<code>INNER JOIN &lt;表2&gt;</code>的语法；</li> <li>然后确定连接条件，使用<code>ON &lt;条件...&gt;</code>，这里的条件是<code>s.class_id = c.id</code>，表示<code>students</code>表的<code>class_id</code>列与<code>classes</code>表的<code>id</code>列相同的行需要连接；</li> <li>可选：加上<code>WHERE</code>子句、<code>ORDER BY</code>等子句。</li></ol></blockquote> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select s.name,s.gender,c.name class_name from students s INNER JOIN classes c on s.class_id = c.id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="外连接-outer-join"><a href="#外连接-outer-join" class="header-anchor">#</a> 外连接——OUTER JOIN</h3> <blockquote><p>外连接分为三种：</p> <ol><li>RIGHT OUTER JOIN——右外连接</li> <li>LEFT OUTER JOIN——左外连接</li> <li>FULL OUTER JOIN——全外连接</li></ol></blockquote> <p><img src="/study/assets/img/image-20220321211739782.8c5b2240.png" alt="image-20220321211739782"></p> <p><img src="data:image/png;base64,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" alt="image-20220321211757912"></p> <h4 id="right-outer-join-右外连接"><a href="#right-outer-join-右外连接" class="header-anchor">#</a> RIGHT OUTER JOIN——右外连接</h4> <p><img src="/study/assets/img/right.0701df57.png" alt=""></p> <blockquote><p>依赖副表</p> <p>RIGHT OUTER JOIN返回右表都存在的行。如果某一行仅在右表存在，那么结果集就会以<code>NULL</code>填充剩下的字段。</p></blockquote> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select s.id,s.name,s.score,c.name class_name from students s RIGHT OUTER JOIN classes c on s.class_id = c.id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/study/assets/img/image-20220321211913904.9df0faba.png" alt="image-20220321211913904"></p> <h4 id="left-outer-join-左外连接"><a href="#left-outer-join-左外连接" class="header-anchor">#</a> LEFT OUTER JOIN——左外连接</h4> <p><img src="/study/assets/img/left.ddecc55f.png" alt=""></p> <blockquote><p>依赖主表。</p> <p>LEFT OUTER JOIN返回左表都存在的行。如果某一行仅在左表存在，那么结果集就会以<code>NULL</code>填充剩下的字段。</p></blockquote> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>select s.id,s.name,s.score,c.name class_name from students s LEFT OUTER JOIN classes c on s.class_id = c.id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/study/assets/img/image-20220321212014398.83a794f4.png" alt="image-20220321212014398"></p> <h4 id="full-outer-join-全外连接"><a href="#full-outer-join-全外连接" class="header-anchor">#</a> FULL OUTER JOIN——全外连接</h4> <p><img src="/study/assets/img/full.48ed2a9d.png" alt=""></p> <blockquote><p>把两张表的所有记录全部选择出来，并且，自动把对方不存在的列填充为NULL</p> <p>MySQL 不支持全连接，但可以通过左外连接 + UNION + 右外连接实现：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT s.id, s.name, s.class_id, c.name class_name, s.gender, s.score
FROM students s
RIGHT JOIN classes c ON class_id = c.id
UNION
SELECT s.id, s.name, s.class_id, c.name class_name, s.gender, s.score
FROM classes c
LEFT JOIN students s ON class_id = c.id;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></blockquote> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>SELECT s.id, s.name, s.class_id, c.name class_name, s.gender, s.score FROM students s FULL OUTER JOIN classes c ON s.class_id = c.id;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/study/assets/img/image-20220321213853359.513c7466.png" alt="image-20220321213853359"></p> <h1 id="实用sql语句"><a href="#实用sql语句" class="header-anchor">#</a> 实用sql语句</h1> <h2 id="插入或替换"><a href="#插入或替换" class="header-anchor">#</a> 插入或替换</h2> <blockquote><p>如果我们希望插入一条新记录（INSERT），但如果记录已经存在，就先删除原记录，再插入新记录。此时，可以使用<code>REPLACE</code>语句，这样就不必先查询，再决定是否先删除再插入：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>REPLACE INTO students (id, class_id, name, gender, score) VALUES (1, 1, '小明', 'F', 99);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>若<code>id=1</code>的记录不存在，<code>REPLACE</code>语句将插入新记录，否则，当前<code>id=1</code>的记录将被删除，然后再插入新记录。</p></blockquote> <h2 id="插入或更新"><a href="#插入或更新" class="header-anchor">#</a> 插入或更新</h2> <blockquote><p>如果我们希望插入一条新记录（INSERT），但如果记录已经存在，就更新该记录，此时，可以使用<code>INSERT INTO ... ON DUPLICATE KEY UPDATE ...</code>语句：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>INSERT INTO students (id, class_id, name, gender, score) VALUES (1, 1, '小明', 'F', 99) ON DUPLICATE KEY UPDATE name='小明', gender='F', score=99;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>若<code>id=1</code>的记录不存在，<code>INSERT</code>语句将插入新记录，否则，当前<code>id=1</code>的记录将被更新，更新的字段由<code>UPDATE</code>指定。</p></blockquote> <h2 id="插入或忽略"><a href="#插入或忽略" class="header-anchor">#</a> 插入或忽略</h2> <blockquote><p>如果我们希望插入一条新记录（INSERT），但如果记录已经存在，就啥事也不干直接忽略，此时，可以使用<code>INSERT IGNORE INTO ...</code>语句：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>INSERT IGNORE INTO students (id, class_id, name, gender, score) VALUES (1, 1, '小明', 'F', 99);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>若<code>id=1</code>的记录不存在，<code>INSERT</code>语句将插入新记录，否则，不执行任何操作。</p></blockquote> <h2 id="快照"><a href="#快照" class="header-anchor">#</a> 快照</h2> <blockquote><p>如果想要对一个表进行快照，即复制一份当前表的数据到一个新表，可以结合<code>CREATE TABLE</code>和<code>SELECT</code>：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>-- 对class_id=1的记录进行快照，并存储为新表students_of_class1:
CREATE TABLE students_of_class1 SELECT * FROM students WHERE class_id=1;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>新创建的表结构和<code>SELECT</code>使用的表结构完全一致。</p></blockquote> <h2 id="写入查询结果集"><a href="#写入查询结果集" class="header-anchor">#</a> 写入查询结果集</h2> <blockquote><p>如果查询结果集需要写入到表中，可以结合<code>INSERT</code>和<code>SELECT</code>，将<code>SELECT</code>语句的结果集直接插入到指定表中。</p> <p>例如，创建一个统计成绩的表<code>statistics</code>，记录各班的平均成绩：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>CREATE TABLE statistics (
    id BIGINT NOT NULL AUTO_INCREMENT,
    class_id BIGINT NOT NULL,
    average DOUBLE NOT NULL,
    PRIMARY KEY (id)
);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>然后，我们就可以用一条语句写入各班的平均成绩：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>INSERT INTO statistics (class_id, average) SELECT class_id, AVG(score) FROM students GROUP BY class_id;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>确保<code>INSERT</code>语句的列和<code>SELECT</code>语句的列能一一对应，就可以在<code>statistics</code>表中直接保存查询的结果：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&gt; SELECT * FROM statistics;
+----+----------+--------------+
| id | class_id | average      |
+----+----------+--------------+
|  1 |        1 |         86.5 |
|  2 |        2 | 73.666666666 |
|  3 |        3 | 88.333333333 |
+----+----------+--------------+
3 rows in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></blockquote> <h2 id="强制使用指定索引"><a href="#强制使用指定索引" class="header-anchor">#</a> 强制使用指定索引</h2> <blockquote><p>在查询的时候，数据库系统会自动分析查询语句，并选择一个最合适的索引。但是很多时候，数据库系统的查询优化器并不一定总是能使用最优索引。如果我们知道如何选择索引，可以使用<code>FORCE INDEX</code>强制查询使用指定的索引。例如：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>&gt; SELECT * FROM students FORCE INDEX (idx_class_id) WHERE class_id = 1 ORDER BY id DESC;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>指定索引的前提是索引<code>idx_class_id</code>必须存在。</p></blockquote> <h1 id="mysql事务"><a href="#mysql事务" class="header-anchor">#</a> Mysql事务</h1> <blockquote><p>数据库系统保证在一个事务中的所有SQL要么全部执行成功，要么全部不执行</p> <ul><li>begin：开启事务</li> <li>commit：提交事务</li> <li>rollback：回滚事务，整个事务会失败</li></ul> <p>注：在mysql中输入命名时后面要加上 <strong>;</strong></p></blockquote> <h2 id="隔离级别"><a href="#隔离级别" class="header-anchor">#</a> 隔离级别</h2> <blockquote><p>对于两个并发执行的事务，如果涉及到操作同一条记录的时候，可能会发生问题。因为并发操作会带来数据的不一致性，包括脏读、不可重复读、幻读等。数据库系统提供了隔离级别来让我们有针对性地选择事务的隔离级别，避免数据不一致的问题。</p> <p>SQL标准定义了4种隔离级别，分别对应可能出现的数据不一致的情况：</p> <table><thead><tr><th style="text-align:left;">Isolation Level</th> <th style="text-align:left;">脏读（Dirty Read）</th> <th style="text-align:left;">不可重复读（Non Repeatable Read）</th> <th style="text-align:left;">幻读（Phantom Read）</th></tr></thead> <tbody><tr><td style="text-align:left;">Read Uncommitte(读未提交)</td> <td style="text-align:left;">Yes</td> <td style="text-align:left;">Yes</td> <td style="text-align:left;">Yes</td></tr> <tr><td style="text-align:left;">Read Committed（读已提交）</td> <td style="text-align:left;">-</td> <td style="text-align:left;">Yes</td> <td style="text-align:left;">Yes</td></tr> <tr><td style="text-align:left;">Repeatable Read（可重复读。默认）</td> <td style="text-align:left;">-</td> <td style="text-align:left;">-</td> <td style="text-align:left;">Yes</td></tr> <tr><td style="text-align:left;">Serializable（串行化）</td> <td style="text-align:left;">-</td> <td style="text-align:left;">-</td> <td style="text-align:left;">-</td></tr></tbody></table></blockquote> <h3 id="read-uncommitted"><a href="#read-uncommitted" class="header-anchor">#</a> Read Uncommitted</h3> <blockquote><p>Read Uncommitted是隔离级别最低的一种事务级别。在这种隔离级别下，一个事务会读到另一个事务更新后但未提交的数据，如果另一个事务回滚，那么当前事务读到的数据就是脏数据，这就是脏读（Dirty Read）。</p> <p>我们来看一个例子。</p> <p>首先，我们准备好<code>students</code>表的数据，该表仅一行记录：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from students;
+----+-------+
| id | name  |
+----+-------+
|  1 | Alice |
+----+-------+
1 row in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>然后，分别开启两个MySQL客户端连接，按顺序依次执行事务A和事务B：</p> <p><img src="/study/assets/img/image-20220201174440467.8c26057e.png" alt="image-20220201174440467"></p> <p>当事务A执行完第3步时，它更新了<code>id=1</code>的记录，但并未提交，而事务B在第4步读取到的数据就是未提交的数据。</p> <p>随后，事务A在第5步进行了回滚，事务B再次读取<code>id=1</code>的记录，发现和上一次读取到的数据不一致，这就是脏读。</p> <p>可见，在Read Uncommitted隔离级别下，一个事务可能读取到另一个事务更新但未提交的数据，这个数据有可能是脏数据。</p></blockquote> <p><img src="/study/assets/img/image-20220201180832178.1db72210.png" alt="image-20220201180832178"></p> <h3 id="read-committed"><a href="#read-committed" class="header-anchor">#</a> Read Committed</h3> <blockquote><p>在Read Committed隔离级别下，一个事务可能会遇到不可重复读（Non Repeatable Read）的问题。</p> <p>不可重复读是指，在一个事务内，多次读同一数据，在这个事务还没有结束时，如果另一个事务恰好修改了这个数据，那么，在第一个事务中，两次读取的数据就可能不一致。</p> <p>我们仍然先准备好<code>students</code>表的数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from students;
+----+-------+
| id | name  |
+----+-------+
|  1 | Alice |
+----+-------+
1 row in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>然后，分别开启两个MySQL客户端连接，按顺序依次执行事务A和事务B：</p> <p><img src="/study/assets/img/image-20220201175300380.126f3ecc.png" alt="image-20220201175300380"></p> <p>当事务B第一次执行第3步的查询时，得到的结果是<code>Alice</code>，随后，由于事务A在第4步更新了这条记录并提交，所以，事务B在第6步再次执行同样的查询时，得到的结果就变成了<code>Bob</code>，因此，在Read Committed隔离级别下，事务不可重复读同一条记录，因为很可能读到的结果不一致。</p></blockquote> <p><img src="/study/assets/img/image-20220201181010311.00fb8949.png" alt="image-20220201181010311"></p> <h3 id="repeatable-read-默认的隔离级别"><a href="#repeatable-read-默认的隔离级别" class="header-anchor">#</a> Repeatable Read（默认的隔离级别）</h3> <blockquote><p>在Repeatable Read隔离级别下，一个事务可能会遇到幻读（Phantom Read）的问题。</p> <p>幻读是指，在一个事务中，第一次查询某条记录，发现没有，但是，当试图更新这条不存在的记录时，竟然能成功，并且，再次读取同一条记录，它就神奇地出现了。</p> <p>我们仍然先准备好<code>students</code>表的数据：</p> <div class="language-mysql line-numbers-mode"><pre class="language-text"><code>mysql&gt; select * from students;
+----+-------+
| id | name  |
+----+-------+
|  1 | Alice |
+----+-------+
1 row in set (0.00 sec)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>然后，分别开启两个MySQL客户端连接，按顺序依次执行事务A和事务B：</p> <p><img src="/study/assets/img/image-20220201180333223.5c1a8d87.png" alt="image-20220201180333223"></p></blockquote> <img src="/study/assets/img/image-20220201180611696.408e8afc.png" alt="image-20220201180611696"> <h3 id="serializable"><a href="#serializable" class="header-anchor">#</a> Serializable</h3> <blockquote><p>Serializable是最严格的隔离级别。在Serializable隔离级别下，所有事务按照次序依次执行，因此，脏读、不可重复读、幻读都不会出现。</p> <p>虽然Serializable隔离级别下的事务具有最高的安全性，但是，由于事务是串行执行，所以效率会大大下降，应用程序的性能会急剧降低。如果没有特别重要的情景，一般都不会使用Serializable隔离级别。</p> <p>如果没有指定隔离级别，数据库就会使用默认的隔离级别。在MySQL中，如果使用InnoDB，默认的隔离级别是Repeatable Read。</p></blockquote> <h1 id="java类型和sql类型对应"><a href="#java类型和sql类型对应" class="header-anchor">#</a> Java类型和SQL类型对应</h1> <table><thead><tr><th>Java类型</th> <th>SQL类型</th></tr></thead> <tbody><tr><td>boolean</td> <td>BIT</td></tr> <tr><td>byte</td> <td>TINYINY</td></tr> <tr><td>short</td> <td>SMALLINT</td></tr> <tr><td>int</td> <td>INTEGER</td></tr> <tr><td>long</td> <td>BIGINT</td></tr> <tr><td>String</td> <td>CHAR,VARCHAR,LONGVARCHAR</td></tr> <tr><td>byte    array</td> <td>BINARY,VAR BINARY</td></tr> <tr><td>java.sql.Date</td> <td>DATE</td></tr> <tr><td>java.sql.Time</td> <td>TIME</td></tr> <tr><td>java.sql.Timestamp</td> <td>TIMESTAMP</td></tr></tbody></table> <h1 id=""><a href="#" class="header-anchor">#</a></h1></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/study/assets/js/app.64a3878e.js" defer></script><script src="/study/assets/js/3.bf789c24.js" defer></script><script src="/study/assets/js/8.72f2f35f.js" defer></script>
  </body>
</html>
